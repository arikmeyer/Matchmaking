@import "tailwindcss";

/* Tailwind v4 Ultra-Advanced Configuration */

/* Content sources for optimized scanning */
@source "./src/**/*.{ts,tsx}";
@source "./index.html";

/* Registered Custom Properties (type-safe CSS variables) */
@property --terminal-glow-intensity {
  syntax: '<number>';
  inherits: true;
  initial-value: 1;
}

@property --terminal-scan-speed {
  syntax: '<time>';
  inherits: true;
  initial-value: 8s;
}

@property --terminal-hue-rotate {
  syntax: '<angle>';
  inherits: true;
  initial-value: 0deg;
}

/* @theme for Tailwind v4 - colors reference CSS variables for theme-awareness */
@theme {
  /* Colors reference CSS variables defined in :root (enables theme switching) */
  --color-terminal-bg: var(--terminal-bg);
  --color-terminal-surface: var(--terminal-surface);
  --color-terminal-border: var(--terminal-border);
  --color-surface: var(--surface);
  --color-surface-dark: var(--surface-dark);
  --color-border: var(--border);
  --color-border-hover: var(--border-hover);
  --color-terminal-green: var(--terminal-green);
  --color-terminal-green-dark: var(--terminal-green-dark);
  --color-terminal-green-glow: var(--terminal-green-glow);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);
  --color-tag-bg: var(--tag-bg);
  --color-warning-header-bg: var(--warning-header-bg);
  --color-warning-header-border: var(--warning-header-border);

  /* Animation timing functions */
  --ease-terminal: cubic-bezier(0.4, 0, 0.2, 1);

  /* Custom spacing for terminal aesthetics */
  --spacing-terminal: 0.75rem;

  /* Border radius for terminal windows */
  --radius-terminal: 0.5rem;
  --radius-terminal-lg: 0.75rem;

  /* Animation definitions */
  @keyframes scanline-flicker {

    0%,
    100% {
      opacity: 0.15;
    }

    50% {
      opacity: 0.18;
    }
  }

  @keyframes terminal-pulse {

    0%,
    100% {
      opacity: 1;
    }

    50% {
      opacity: 0.7;
    }
  }

  @keyframes glow-pulse {

    0%,
    100% {
      box-shadow: 0 0 20px var(--terminal-green-glow);
    }

    50% {
      box-shadow: 0 0 30px var(--terminal-green-glow),
        0 0 40px var(--terminal-green-glow);
    }
  }
}

/* Custom Utilities using @utility */
@utility terminal-card {
  background-color: var(--color-surface);
  border: 1px solid var(--color-terminal-border);
  border-radius: var(--radius-terminal-lg);
  overflow: hidden;
  box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
}

@utility terminal-border {
  border: 1px solid var(--color-terminal-border);
}

@utility flex-center {
  display: flex;
  align-items: center;
}

@utility flex-center-col {
  display: flex;
  flex-direction: column;
  align-items: center;
}

@utility terminal-text {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  color: var(--text-secondary);
}

@utility terminal-glow {
  box-shadow: 0 0 20px var(--color-terminal-green-glow);
  animation: glow-pulse 3s ease-in-out infinite;
}

@utility scrollbar-hide {
  -ms-overflow-style: none;
  /* IE and Edge */
  scrollbar-width: none;

  /* Firefox */
  &::-webkit-scrollbar {
    display: none;
    /* Chrome, Safari, Opera */
  }
}

@utility tag-bg {
  background-color: var(--color-tag-bg);
}

@utility warning-header {
  background-color: var(--color-warning-header-bg);
  border-bottom: 1px solid var(--color-warning-header-border);
}

/* Custom Variants using @variant */
@variant terminal (&.terminal-active) {
  /* Applied when element has terminal-active class */
}

@variant crt (&.crt-effect) {
  /* Applied when CRT mode is active */
}

/* Enhanced CRT Monitor Effect with CSS Variables */
.crt-effect {
  position: relative;
  overflow: hidden;

  /* Phosphor glow using CSS variables */
  text-shadow:
    0 0 5px color-mix(in srgb, var(--color-terminal-green) 50%, transparent),
    0 0 10px color-mix(in srgb, var(--color-terminal-green) 30%, transparent),
    0 0 20px color-mix(in srgb, var(--color-terminal-green) 20%, transparent);
}

.crt-effect::before {
  content: " ";
  display: block;
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(0deg,
      transparent 0px,
      transparent 1px,
      rgb(0 0 0 / 0.8) 2px,
      rgb(0 0 0 / 0.8) 3px);
  pointer-events: none;
  z-index: 9998;
  animation: scanline-flicker 8s linear infinite;
}

.crt-effect::after {
  content: " ";
  display: block;
  position: fixed;
  inset: 0;
  background: radial-gradient(ellipse at center,
      transparent 0%,
      transparent 40%,
      rgb(0 0 0 / 0.3) 70%,
      rgb(0 0 0 / 0.7) 100%);
  pointer-events: none;
  z-index: 9997;
}

/* RGB chromatic aberration with color-mix */
.crt-effect * {
  text-shadow:
    -0.5px 0px 1px color-mix(in srgb, red 30%, transparent),
    0.5px 0px 1px color-mix(in srgb, cyan 30%, transparent),
    0 0 3px color-mix(in srgb, var(--color-terminal-green) 40%, transparent);
}

/* Container Query Support for Responsive Terminal Cards */
@utility terminal-container {
  container-type: inline-size;
  container-name: terminal;
}

/* Container query utilities */
@container terminal (min-width: 640px) {
  .terminal-responsive-text {
    font-size: 1rem;
  }
}

@container terminal (max-width: 639px) {
  .terminal-responsive-text {
    font-size: 0.875rem;
  }
}

/* Advanced Color Utilities with color-mix() */
@utility terminal-surface-hover {
  background-color: color-mix(in srgb, var(--color-surface) 90%, var(--color-terminal-green) 10%);
}

@utility terminal-accent-subtle {
  color: color-mix(in srgb, var(--color-terminal-green) 70%, white 30%);
}

@utility terminal-border-glow {
  border-color: color-mix(in srgb, var(--color-terminal-border) 80%, var(--color-terminal-green) 20%);
}

/* State-based utilities with modern selectors */
@utility terminal-interactive {
  transition: all 0.2s var(--ease-terminal);

  &:hover {
    border-color: color-mix(in srgb, var(--color-terminal-green) 50%, transparent);
    background-color: color-mix(in srgb, var(--color-surface) 95%, var(--color-terminal-green) 5%);
  }

  &:focus-visible {
    outline: 2px solid var(--color-terminal-green);
    outline-offset: 2px;
  }
}

/* Gradient utilities using CSS variables */
@utility terminal-gradient-bg {
  background: linear-gradient(135deg,
      var(--color-terminal-bg) 0%,
      color-mix(in srgb, var(--color-terminal-bg) 95%, var(--color-terminal-green) 5%) 100%);
}

/* Text glow utilities with animation */
@utility terminal-text-glow {
  color: var(--color-terminal-green);
  text-shadow:
    0 0 10px color-mix(in srgb, var(--color-terminal-green) 50%, transparent),
    0 0 20px color-mix(in srgb, var(--color-terminal-green) 30%, transparent);
  animation: terminal-pulse 2s ease-in-out infinite;
}

/* Responsive spacing using custom properties */
@utility terminal-spacing {
  padding: var(--spacing-terminal);
}

/* Glass morphism effect */
@utility terminal-glass {
  background: color-mix(in srgb, var(--color-surface) 80%, transparent);
  backdrop-filter: blur(12px);
  border: 1px solid color-mix(in srgb, var(--color-terminal-border) 50%, transparent);
}

/* Neon border effect */
@utility terminal-neon {
  border: 1px solid var(--color-terminal-green);
  box-shadow:
    0 0 5px var(--color-terminal-green),
    inset 0 0 5px var(--color-terminal-green);

  &:hover {
    box-shadow:
      0 0 10px var(--color-terminal-green),
      0 0 20px var(--color-terminal-green),
      inset 0 0 10px var(--color-terminal-green);
  }
}

/* View Transitions API Support */
@utility terminal-transition {
  view-transition-name: terminal-content;
}

@utility terminal-transition-card {
  view-transition-name: terminal-card;
}

/* Scroll-Driven Animations */
@utility terminal-scroll-fade {
  animation: terminal-fade-in linear;
  animation-timeline: view();
  animation-range: entry 0% cover 30%;
}

@utility terminal-scroll-slide {
  animation: terminal-slide-up linear;
  animation-timeline: view();
  animation-range: entry 0% cover 40%;
}

@utility terminal-parallax {
  animation: terminal-parallax linear;
  animation-timeline: scroll();
}

/* Scroll animation keyframes */
@keyframes terminal-fade-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes terminal-slide-up {
  from {
    opacity: 0;
    transform: translateY(40px) scale(0.95);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes terminal-parallax {
  to {
    transform: translateY(-50px);
  }
}

/* Logical Properties for Internationalization */
@utility terminal-spacing-inline {
  padding-inline: var(--spacing-terminal);
}

@utility terminal-spacing-block {
  padding-block: var(--spacing-terminal);
}

@utility terminal-border-inline-start {
  border-inline-start: 2px solid var(--color-terminal-green);
}

/* Advanced Grid with Subgrid Support */
@utility terminal-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--spacing-terminal);
}

@utility terminal-subgrid {
  display: grid;
  grid-template-columns: subgrid;
  grid-template-rows: subgrid;
}

/* CSS Anchor Positioning (Future) */
@utility terminal-anchor {
  position: absolute;
  position-anchor: --terminal-tooltip;
  top: anchor(bottom);
  left: anchor(center);
}

/* Modern Focus Styles */
@utility terminal-focus {
  &:focus-visible {
    outline: 2px solid var(--color-terminal-green);
    outline-offset: 3px;
    border-radius: 4px;
  }
}

/* Dynamic Theme System with CSS Variables */
/* Base variables (without --color- prefix) are referenced by @theme for Tailwind utility generation */
:root {
  /* Core colors */
  --terminal-bg: oklch(5% 0 0);
  --terminal-surface: oklch(16% 0 0);
  --terminal-border: oklch(25% 0 0);

  /* Semantic surface colors */
  --surface: oklch(16% 0 0);
  --surface-dark: oklch(5% 0 0);

  /* Border colors */
  --border: oklch(25% 0 0);
  --border-hover: oklch(50% 0 0);

  /* Accent colors */
  --terminal-green: oklch(70% 0.2 142);
  --terminal-green-dark: oklch(45% 0.15 142);
  --terminal-green-glow: oklch(70% 0.2 142 / 0.2);

  /* Text colors */
  --text-primary: oklch(95% 0 0);
  --text-secondary: oklch(70% 0 0);
  --text-muted: oklch(50% 0 0);

  /* Nested backgrounds - solid dark colors for clean appearance */
  --nested-bg: oklch(14% 0 0);
  --nested-deep-bg: oklch(10% 0 0);

  /* UI colors */
  --tag-bg: oklch(15% 0 0 / 0.6);
  --warning-header-bg: oklch(25% 0.15 25 / 0.5);
  --warning-header-border: oklch(55% 0.2 25 / 0.3);

  /* Semantic Section Colors - Default Theme (Dark) */
  --bg-section-planning: oklch(18% 0.04 260);
  /* Blue */
  --border-section-planning: oklch(30% 0.08 260);

  --bg-section-success: oklch(18% 0.04 150);
  --border-section-success: oklch(30% 0.08 150);

  --bg-section-focus: oklch(98% 0.25 115 / 0.04);
  /* Lemon-Yellow at 4% opacity */
  --border-section-focus: oklch(98% 0.25 115 / 0.15);

  --bg-section-problem: oklch(18% 0.04 25);
  --border-section-problem: oklch(30% 0.08 25);

  --bg-section-process: oklch(98% 0.25 115 / 0.04);
  /* Matches Focus */
  --border-section-process: oklch(98% 0.25 115 / 0.15);

  /* Semantic Text Colors - Default Theme */
  --text-section-planning: oklch(85% 0.15 260);
  /* Bright Blue */
  --text-section-success: oklch(85% 0.15 150);
  /* Bright Green */
  --text-section-focus: oklch(82% 0.18 85);
  /* Amber (Restored) */
  --text-section-problem: oklch(85% 0.15 25);
  /* Bright Red */
  --text-section-process: oklch(82% 0.18 85);
  /* Amber (Restored) */

  /* Card Border Colors - More visible variants for flip cards */
  --border-card-success: oklch(55% 0.15 150);
  /* Visible green */
  --border-card-problem: oklch(55% 0.15 25);
  /* Visible red */

  /* Layout constants */
  --navbar-height: 2.5rem;
  /* 40px - height of top navigation bar (top-10) */

  /* Venn Diagram - Dark Mode (Default) */
  --venn-blend: screen;
  --venn-product-text: oklch(90% 0.05 260);
  /* Blue-200 */
  --venn-product-bg: oklch(60% 0.15 260 / 0.2);
  /* Blue-500/20 */
  --venn-product-border: oklch(70% 0.15 260 / 0.4);
  /* Blue-400/40 */

  --venn-eng-text: oklch(90% 0.05 150);
  /* Green-200 */
  --venn-eng-bg: oklch(60% 0.15 150 / 0.2);
  /* Green-500/20 */
  --venn-eng-border: oklch(70% 0.15 150 / 0.4);
  /* Green-400/40 */

  --venn-design-text: oklch(90% 0.05 25);
  /* Red-200 */
  --venn-design-bg: oklch(60% 0.15 25 / 0.2);
  /* Red-500/20 */
  --venn-design-border: oklch(70% 0.15 25 / 0.4);
  /* Red-400/40 */
}

/* Matrix Theme Variant - Intense green with darker background */
:root[data-theme="matrix"] {
  --terminal-green: oklch(80% 0.28 142);
  --terminal-green-dark: oklch(55% 0.2 142);
  --terminal-green-glow: oklch(80% 0.28 142 / 0.3);
  --terminal-bg: oklch(2% 0.05 142);
  --terminal-surface: oklch(12% 0.05 142);
  --terminal-border: oklch(20% 0.1 142);
  --surface: oklch(12% 0.05 142);
  --surface-dark: oklch(2% 0.05 142);
  --border: oklch(20% 0.1 142);
  --border-hover: oklch(45% 0.15 142);
  --text-primary: oklch(90% 0.1 142);
  --text-secondary: oklch(70% 0.08 142);
  --text-muted: oklch(50% 0.05 142);
  --nested-bg: oklch(10% 0.03 142);
  --nested-deep-bg: oklch(6% 0.02 142);
  --tag-bg: oklch(12% 0.05 142 / 0.7);
  --warning-header-bg: oklch(20% 0.12 25 / 0.6);
  --warning-header-border: oklch(45% 0.18 25 / 0.4);

  /* Matrix Semantic Sections - Green-tinted variations */
  --bg-section-planning: oklch(14% 0.05 240);
  /* Blue-ish */
  --border-section-planning: oklch(25% 0.1 240);

  --bg-section-success: oklch(14% 0.05 142);
  /* Pure green */
  --border-section-success: oklch(25% 0.1 142);

  --bg-section-focus: oklch(14% 0.05 120);
  /* Yellow-ish green */
  --border-section-focus: oklch(25% 0.1 120);

  --bg-section-problem: oklch(14% 0.05 30);
  /* Red-ish (muted) */
  --border-section-problem: oklch(25% 0.1 30);

  --bg-section-process: oklch(14% 0.05 120);
  /* Yellow-ish green (Matches Focus) */
  --border-section-process: oklch(25% 0.1 120);

  /* Matrix Semantic Text */
  --text-section-planning: oklch(80% 0.1 240);
  --text-section-success: oklch(80% 0.1 142);
  --text-section-focus: oklch(80% 0.1 120);
  --text-section-problem: oklch(80% 0.1 30);
  --text-section-process: oklch(80% 0.1 120);

  /* Matrix Card Border Colors */
  --border-card-success: oklch(60% 0.2 142);
  --border-card-problem: oklch(55% 0.15 30);
}

/* Cyberpunk Theme Variant - Magenta/purple futuristic */
:root[data-theme="cyberpunk"] {
  --terminal-green: oklch(75% 0.25 330);
  --terminal-green-dark: oklch(50% 0.2 330);
  --terminal-green-glow: oklch(75% 0.25 330 / 0.3);
  --terminal-bg: oklch(8% 0.04 280);
  --terminal-surface: oklch(20% 0.05 280);
  --terminal-border: oklch(30% 0.1 300);
  --surface: oklch(20% 0.05 280);
  --surface-dark: oklch(8% 0.04 280);
  --border: oklch(30% 0.1 300);
  --border-hover: oklch(55% 0.15 300);
  --text-primary: oklch(95% 0.05 320);
  --text-secondary: oklch(75% 0.08 320);
  --text-muted: oklch(55% 0.06 320);
  --nested-bg: oklch(16% 0.03 280);
  --nested-deep-bg: oklch(12% 0.02 280);
  --tag-bg: oklch(20% 0.06 300 / 0.7);
  --warning-header-bg: oklch(22% 0.1 25 / 0.6);
  --warning-header-border: oklch(50% 0.15 25 / 0.4);

  /* Cyberpunk Semantic Sections - Neon Neon Neon */
  --bg-section-planning: oklch(20% 0.1 200);
  /* Cyan */
  --border-section-planning: oklch(40% 0.2 200);

  --bg-section-success: oklch(20% 0.1 150);
  /* Green */
  --border-section-success: oklch(40% 0.2 150);

  --bg-section-focus: oklch(20% 0.1 60);
  /* Orange */
  --border-section-focus: oklch(40% 0.2 60);

  --bg-section-problem: oklch(20% 0.1 20);
  /* Red */
  --border-section-problem: oklch(40% 0.2 20);

  --bg-section-process: oklch(20% 0.1 300);
  /* Purple (Preserved) */
  --border-section-process: oklch(40% 0.2 300);

  /* Cyberpunk Semantic Text */
  --text-section-planning: oklch(85% 0.15 200);
  /* Cyan */
  --text-section-success: oklch(85% 0.15 150);
  /* Green */
  --text-section-focus: oklch(85% 0.15 60);
  /* Orange */
  --text-section-problem: oklch(85% 0.15 20);
  /* Red */
  --text-section-process: oklch(85% 0.15 300);
  /* Purple */

  /* Cyberpunk Card Border Colors */
  --border-card-success: oklch(60% 0.2 150);
  --border-card-problem: oklch(60% 0.2 20);


}

/* Light Mode (for accessibility) - Complete color inversion */
:root[data-theme="light"] {
  --terminal-bg: oklch(98% 0 0);
  --terminal-surface: oklch(95% 0 0);
  --terminal-border: oklch(80% 0 0);
  --surface: oklch(95% 0 0);
  --surface-dark: oklch(98% 0 0);
  --border: oklch(80% 0 0);
  --border-hover: oklch(40% 0 0);
  --terminal-green: oklch(40% 0.2 142);
  --terminal-green-dark: oklch(30% 0.18 142);
  --terminal-green-glow: oklch(40% 0.2 142 / 0.15);
  --text-primary: oklch(10% 0 0);
  --text-secondary: oklch(25% 0 0);
  --text-muted: oklch(45% 0 0);
  /* Light theme: nested = solid lighter colors */
  --nested-bg: oklch(96% 0 0);
  --nested-deep-bg: oklch(93% 0 0);
  --tag-bg: oklch(94% 0 0);
  --warning-header-bg: oklch(92% 0.05 25);
  --warning-header-border: oklch(75% 0.12 25);

  /* Light Semantic Sections - Pastel */
  --bg-section-planning: oklch(92% 0.05 260);
  /* Blue */
  --border-section-planning: oklch(80% 0.1 260);

  --bg-section-success: oklch(92% 0.05 150);
  --border-section-success: oklch(80% 0.1 150);

  --bg-section-focus: oklch(92% 0.05 85);
  --border-section-focus: oklch(80% 0.1 85);

  --bg-section-problem: oklch(92% 0.05 25);
  --border-section-problem: oklch(80% 0.1 25);

  --bg-section-process: oklch(92% 0.05 85);
  /* Amber (Matches Focus) */
  --border-section-process: oklch(80% 0.1 85);

  /* Light Semantic Text - Darker for contrast */
  --text-section-planning: oklch(45% 0.15 260);
  --text-section-success: oklch(40% 0.15 150);
  --text-section-focus: oklch(45% 0.15 85);
  --text-section-problem: oklch(45% 0.15 25);
  --text-section-process: oklch(45% 0.15 85);

  /* Light Card Border Colors */
  --border-card-success: oklch(50% 0.2 150);
  --border-card-problem: oklch(50% 0.2 25);

  /* Venn Diagram - Light Mode */
  --venn-blend: multiply;
  --venn-product-text: oklch(30% 0.15 260);
  /* Blue-900 */
  --venn-product-bg: oklch(60% 0.15 260 / 0.4);
  /* Blue-500/40 */
  --venn-product-border: oklch(50% 0.15 260 / 0.5);
  /* Blue-600/50 */

  --venn-eng-text: oklch(30% 0.15 150);
  /* Green-900 */
  --venn-eng-bg: oklch(60% 0.15 150 / 0.4);
  /* Green-500/40 */
  --venn-eng-border: oklch(50% 0.15 150 / 0.5);
  /* Green-600/50 */

  --venn-design-text: oklch(30% 0.15 25);
  /* Red-900 */
  --venn-design-bg: oklch(60% 0.15 25 / 0.4);
  /* Red-500/40 */
  --venn-design-border: oklch(50% 0.15 25 / 0.5);
  /* Red-600/50 */
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  :root {
    --terminal-green: oklch(85% 0.28 142);
    --terminal-border: oklch(50% 0 0);
  }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Print Styles */
@media print {

  .crt-effect,
  .terminal-glow,
  .terminal-neon {
    filter: none !important;
    animation: none !important;
  }
}

/* Utility Class for Theme-Aware Components */
@utility terminal-theme-transition {
  transition: background-color 0.3s var(--ease-terminal),
    color 0.3s var(--ease-terminal),
    border-color 0.3s var(--ease-terminal);
}

/* Theme-Aware Text Color Utilities */
@utility text-primary {
  color: var(--text-primary);
}

@utility text-secondary {
  color: var(--text-secondary);
}

@utility text-muted {
  color: var(--text-muted);
}

/* Theme-Aware Background Utilities */
@utility bg-surface {
  background-color: var(--surface);
}

@utility bg-surface-dark {
  background-color: var(--surface-dark);
}

@utility bg-terminal-bg {
  background-color: var(--terminal-bg);
}

@utility bg-terminal-surface {
  background-color: var(--terminal-surface);
}

/* Theme-Aware Border Utilities */
@utility border-default {
  border-color: var(--terminal-border);
}

@utility border-border {
  border-color: var(--border);
}

@utility border-border-hover {
  border-color: var(--border-hover);
}

/*
 * Semantic card backgrounds for content sections
 * These provide subtle tints while remaining theme-aware
 */
@utility bg-card-subtle {
  background-color: color-mix(in oklch, var(--surface) 80%, transparent);
}

@utility bg-card-elevated {
  background-color: var(--surface);
}

@utility bg-card-inset {
  background-color: color-mix(in oklch, var(--surface-dark) 90%, var(--surface) 10%);
}

/* More transparent surface backgrounds */
@utility bg-card-muted {
  background-color: color-mix(in oklch, var(--surface) 50%, transparent);
}

@utility bg-navbar {
  background-color: color-mix(in oklch, var(--terminal-bg) 90%, transparent);
}

/* Theme-aware nested card backgrounds - explicit per-theme colors for proper elevation */
@utility bg-nested {
  background-color: var(--nested-bg);
}

@utility bg-nested-deep {
  background-color: var(--nested-deep-bg);
}

/* ===========================================
   EXPLORER SEMANTIC COLOR SYSTEM
   5 core semantic colors for explorer pages:
   - Planning (cyan): Architecture, blueprints, hypothesis
   - Success (green): Positive outcomes, target states
   - Focus (amber): Metrics, optimization, current state
   - Problem (red): Challenges, dysfunction, danger
   - Process (purple): Workflows, domains, execution
   =========================================== */

/* Section backgrounds - Using explicit semantic variables */
@utility bg-section-planning {
  background-color: var(--bg-section-planning);
}

@utility bg-section-success {
  background-color: var(--bg-section-success);
}

@utility bg-section-focus {
  background-color: var(--bg-section-focus);
}

@utility bg-section-problem {
  background-color: var(--bg-section-problem);
}

@utility bg-section-process {
  background-color: var(--bg-section-process);
}

/* Overlay backdrops - semi-transparent for modals */
@utility bg-overlay {
  background-color: color-mix(in oklch, var(--terminal-bg) 80%, transparent);
}

@utility bg-overlay-heavy {
  background-color: color-mix(in oklch, var(--terminal-bg) 90%, transparent);
}

/* Video player / media backgrounds */
@utility bg-media {
  background-color: var(--surface-dark);
}

/* Badge/chip backgrounds */
@utility bg-badge {
  background-color: color-mix(in oklch, var(--surface-dark) 85%, transparent);
}

/* Very subtle text colors (for decorative text) */
@utility text-subtle {
  color: color-mix(in oklch, var(--text-muted) 70%, transparent);
}

@utility text-faint {
  color: color-mix(in oklch, var(--text-muted) 50%, transparent);
}

/* Pagination dot inactive state */
@utility bg-dot-inactive {
  background-color: color-mix(in oklch, var(--border) 80%, transparent);
}

@utility bg-dot-inactive-hover {
  background-color: color-mix(in oklch, var(--border-hover) 80%, transparent);
}

/* Border variants for semantic sections - Using explicit semantic variables */
@utility border-section-planning {
  border-color: var(--border-section-planning);
}

@utility border-section-success {
  border-color: var(--border-section-success);
}

@utility border-section-focus {
  border-color: var(--border-section-focus);
}

@utility border-section-problem {
  border-color: var(--border-section-problem);
}

@utility border-section-process {
  border-color: var(--border-section-process);
}

/* Card Border Utilities - More visible borders for flip cards */
/* !important ensures these override Tailwind's default border color */
@utility border-card-success {
  border-color: var(--border-card-success) !important;
}

@utility border-card-problem {
  border-color: var(--border-card-problem) !important;
}

/* Semantic Text Utilities */
@utility text-section-planning {
  color: var(--text-section-planning);
}

@utility text-section-success {
  color: var(--text-section-success);
}

@utility text-section-focus {
  color: var(--text-section-focus);
}

@utility text-section-problem {
  color: var(--text-section-problem);
}

@utility text-section-process {
  color: var(--text-section-process);
}

/* Terminal input styling - consistent across all terminals */
@utility terminal-input {
  background-color: transparent;
  border: none;
  outline: none;
  color: var(--color-text-primary);
  caret-color: var(--color-terminal-green);

  &::placeholder {
    color: var(--color-text-muted);
  }
}